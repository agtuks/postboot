"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function dropdown(a){return Dropdown.init(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function dropdownHover(a){return DropdownHover.init(a)}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function scrollspy(a,b){return ScrollSpy.init(a,b)}var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(a){a.closest=a.closest||function(a){for(var b=this;b;){if(b.matches(a))return b;b=b.parentElement}return null},a.offset=function(){var a=this.getBoundingClientRect();return{top:a.top+window.pageYOffset-document.documentElement.clientTop,left:a.left+window.pageXOffset-document.documentElement.clientLeft}},a.position=function(){return{left:this.offsetLeft,top:this.offsetTop}}}(Element.prototype);var ESCAPE_KEYCODE=27,Util=function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"createEvent",value:function(a,b){var c=void 0;return window.CustomEvent?c=new CustomEvent(a,{detail:b}):(c=document.createEvent("CustomEvent"),c.initCustomEvent(a,!0,!0,b)),c}},{key:"getSelector",value:function(a){var b=void 0;return a.hasAttribute("data-target")&&(b=a.getAttribute("data-target")),!b&&a.hasAttribute("href")&&(b=a.getAttribute("href")),b&&"#"!==b?b:null}},{key:"toType",value:function(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}},{key:"isElement",value:function(a){return(a[0]||a).nodeType}},{key:"getUID",value:function(a){do{a+=~~(Math.random()*MAX_UID)}while(document.getElementById(a));return a}},{key:"typeCheckConfig",value:function(b,c,d){for(var e in d)if(d.hasOwnProperty(e)){var f=d[e],g=c[e],h=g&&a.isElement(g)?"element":a.toType(g);if(!new RegExp(f).test(h))throw new Error(b.toUpperCase()+': Option "'+e+'" provided type "'+h+'" but expected type "'+f+'".')}}}]),a}(),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),DROPDOWN_KEY="dropdown",DROPDOWN_EVENT_KEY=DROPDOWN_KEY,SPACE_KEYCODE=32,TAB_KEYCODE=9,ARROW_UP_KEYCODE=38,ARROW_DOWN_KEYCODE=40,RIGHT_MOUSE_BUTTON_WHICH=3,DROPDOWN_REGEXP_KEYDOWN=new RegExp(ARROW_UP_KEYCODE+"|"+ARROW_DOWN_KEYCODE+"|"+ESCAPE_KEYCODE),DropdownClassName={DISABLED:"disabled",SHOW:"show"},DropdownSelector={DATA_DROPDOWN:"["+DROPDOWN_KEY+"]",DATA_TOGGLE:'[data-toggle="dropdown"]',FLUID_MENU:".dropdown-fluid .dropdown-menu",FORM:"form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled)"},DropdownEvent={HIDE:DROPDOWN_EVENT_KEY+"hide",HIDDEN:DROPDOWN_EVENT_KEY+"hidden",SHOW:DROPDOWN_EVENT_KEY+"show",SHOWN:DROPDOWN_EVENT_KEY+"shown"},Dropdown=function(){function a(b){var c=this;_classCallCheck(this,a),this.element=b,this.parent=a.getParent(this.element),this.menu=this.parent.querySelector(DropdownSelector.MENU),this.element.addEventListener("click",function(a){a.preventDefault(),a.stopPropagation(),c.toggle(a)}),this.menu.addEventListener("keydown",a.keydown);var d=this.parent.querySelector(DropdownSelector.FORM);d&&d.addEventListener("click",function(a){a.stopPropagation()})}return _createClass(a,[{key:"toggle",value:function(b){if(!this.element.disabled&&!this.element.classList.contains(DropdownClassName.DISABLED)){var c=this.parent.classList.contains(DropdownClassName.SHOW);if(a.hideMenus(b),!c){var d={relatedTarget:this.element},e=Util.createEvent(DropdownEvent.SHOW,d);if(this.parent.dispatchEvent(e),!e.defaultPrevented){"ontouchstart"in document.documentElement&&!this.parent.closest(DropdownSelector.NAVBAR_NAV)&&document.body.children.addEventListener("mouseover",function(){}),this.element.focus(),this.element.setAttribute("aria-expanded",!0),this.element.setAttribute(DROPDOWN_KEY,""),this.parent.classList.toggle(DropdownClassName.SHOW);var f=Util.createEvent(DropdownEvent.SHOWN,d);this.parent.dispatchEvent(f)}}}}}],[{key:"init",value:function(b){var c=null;return b.hasOwnProperty(DROPDOWN_KEY)&&(c=b[DROPDOWN_KEY]),c||(c=new a(b),b[DROPDOWN_KEY]=c),c}},{key:"hideMenus",value:function(a){if(!a||a.which!==RIGHT_MOUSE_BUTTON_WHICH&&("keyup"!==a.type||a.which===TAB_KEYCODE)){var b=document.querySelectorAll(DropdownSelector.DATA_DROPDOWN);b.length&&b.forEach(function(b){if(!b.hasOwnProperty(DROPDOWN_KEY))return!0;var c=b[DROPDOWN_KEY].parent;if(!c.classList.contains(DropdownClassName.SHOW))return!0;if(a&&a.target!==b&&c.contains(a.target))return!0;if(a&&("click"===a.type&&/input|textarea/i.test(a.target.tagName)||"keyup"===a.type&&a.which===TAB_KEYCODE)&&c.contains(a.target))return!0;var d={relatedTarget:b},e=Util.createEvent(DropdownEvent.HIDE,d);if(c.dispatchEvent(e),e.defaultPrevented)return!0;"ontouchstart"in document.documentElement&&document.body.children.removeEventListener("mouseover",function(){}),b.setAttribute("aria-expanded","false"),b.removeAttribute(DROPDOWN_KEY),c.classList.remove(DropdownClassName.SHOW);var f=Util.createEvent(DropdownEvent.HIDDEN,d);c.dispatchEvent(f)})}}},{key:"getParent",value:function(a){var b=Util.getSelector(a);return b?document.querySelector(b):a.parentNode}},{key:"keydown",value:function(b){if(!(!DROPDOWN_REGEXP_KEYDOWN.test(b.which)||/button/i.test(b.target.tagName)&&b.which===SPACE_KEYCODE||/input|textarea/i.test(b.target.tagName)||(b.preventDefault(),b.stopPropagation(),this.disabled||this.classList.contains(DropdownClassName.DISABLED)))){var c=a.getParent(this),d=c.classList.contains(DropdownClassName.SHOW);if(!d&&(b.which!==ESCAPE_KEYCODE||b.which!==SPACE_KEYCODE)||d&&(b.which===ESCAPE_KEYCODE||b.which===SPACE_KEYCODE)){if(b.which===ESCAPE_KEYCODE){c.querySelector(DropdownSelector.DATA_TOGGLE).dispatchEvent(new FocusEvent("focus"))}return void this.dispatchEvent(new MouseEvent("click"))}var e=Array.prototype.slice.call(c.querySelectorAll(DropdownSelector.VISIBLE_ITEMS));if(e.length){var f=e.indexOf(b.target);b.which===ARROW_UP_KEYCODE&&f>0&&f--,b.which===ARROW_DOWN_KEYCODE&&f<e.length-1&&f++,f<0&&(f=0),e[f].focus()}}}}]),a}();document.addEventListener("DOMContentLoaded",function(){var a=document.querySelectorAll(DropdownSelector.DATA_TOGGLE);a.length&&a.forEach(function(a){dropdown(a)});var b=document.querySelectorAll(DropdownSelector.FLUID_MENU);b.length&&b.forEach(function(a){a.addEventListener("click",function(a){a.stopPropagation()})})});var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),DROPDOWN_HOVER_KEY="dropdownHover",DropdownHoverSelector={DATA_HOVER:'[data-hover="dropdown"]'},DropdownHover=function(){function a(b){var c=this;_classCallCheck(this,a),this.element=b,this.parent=Dropdown.getParent(this.element),this.element.addEventListener("mouseenter",function(a){return c.show(a)}),this.parent.addEventListener("mouseleave",function(){return c.hide()})}return _createClass(a,[{key:"show",value:function(a){if(!this.element.disabled&&!this.element.classList.contains(DropdownClassName.DISABLED)){var b=this.parent.classList.contains(DropdownClassName.SHOW);if(Dropdown.hideMenus(a),!b){var c={relatedTarget:this.element},d=Util.createEvent(DropdownEvent.SHOW,c);if(this.parent.dispatchEvent(d),!d.defaultPrevented){this.element.setAttribute("aria-expanded",!0),this.element.setAttribute(DROPDOWN_KEY,""),this.parent.classList.add(DropdownClassName.SHOW);var e=Util.createEvent(DropdownEvent.SHOWN,c);this.parent.dispatchEvent(e)}}}}},{key:"hide",value:function(){if(this.parent.classList.contains(DropdownClassName.SHOW)){var a={relatedTarget:this.element},b=Util.createEvent(DropdownEvent.HIDE,a);if(this.parent.dispatchEvent(b),!b.defaultPrevented){this.element.setAttribute("aria-expanded","false"),this.element.removeAttribute(DROPDOWN_KEY),this.parent.classList.remove(DropdownClassName.SHOW);var c=Util.createEvent(DropdownEvent.HIDDEN,a);this.parent.dispatchEvent(c)}}}}],[{key:"init",value:function(b){var c=null;return b.hasOwnProperty(DROPDOWN_HOVER_KEY)&&(c=b[DROPDOWN_HOVER_KEY]),c||(c=new a(b),b[DROPDOWN_HOVER_KEY]=c),c}}]),a}();document.addEventListener("DOMContentLoaded",function(){var a=document.querySelectorAll(DropdownHoverSelector.DATA_HOVER);a.length&&a.forEach(function(a){dropdownHover(a)})});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),SCROLLSPY_KEY="scrollspy",SCROLLSPY_EVENT_KEY=SCROLLSPY_KEY,ScrollSpyDefault={offset:10,method:"auto",target:""},ScrollSpyDefaultType={offset:"number",method:"string",target:"(string|element)"},ScrollSpyEvent={ACTIVATE:SCROLLSPY_EVENT_KEY+"activate"},ScrollSpyClassName={ACTIVE:"active",DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",SHOW:"show"},ScrollSpySelector={ACTIVE:".active",DATA_SPY:'[data-spy="scroll"]',DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle",LIST_ITEM:".list-group-item",NAV_ITEM:".nav-item",NAV_LINK:".nav-link",NAV_LIST_GROUP:".nav, .list-group",SHOW:".show"},ScrollSpyOffsetMethod={OFFSET:"offset",POSITION:"position"},ScrollSpy=function(){function a(b,c){var d=this;_classCallCheck(this,a),this.element=b,this.scrollElement="BODY"===b.tagName?window:b,this.config=this.getConfig(c),this.selector=this.config.target+" "+ScrollSpySelector.NAV_LINK+","+this.config.target+" "+ScrollSpySelector.LIST_ITEM+","+this.config.target+" "+ScrollSpySelector.DROPDOWN_ITEMS,this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.scrollElement.addEventListener("scroll",function(a){return d.process(a)}),this.refresh(),this.process()}return _createClass(a,[{key:"refresh",value:function(){var a=this,b=this.scrollElement!==this.scrollElement.window?ScrollSpyOffsetMethod.POSITION:ScrollSpyOffsetMethod.OFFSET,c="auto"===this.config.method?b:this.config.method,d=c===ScrollSpyOffsetMethod.POSITION?this.getScrollTop():0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),Array.prototype.slice.call(document.querySelectorAll(this.selector)).map(function(a){var b=void 0,e=Util.getSelector(a);if(e&&(b=document.querySelector(e)),b){var f=b.getBoundingClientRect();if(f.width||f.height)return[b[c]().top+d,e]}return null}).filter(function(a){return a}).sort(function(a,b){return a[0]-b[0]}).forEach(function(b){a.offsets.push(b[0]),a.targets.push(b[1])})}},{key:"getConfig",value:function(a){if(a=Object.assign({},ScrollSpyDefault,a),"string"!=typeof a.target){var b=a.target.id;b||(b=Util.getUID(SCROLLSPY_KEY),a.target.id=b),a.target="#"+b}return Util.typeCheckConfig(SCROLLSPY_KEY,a,ScrollSpyDefaultType),a}},{key:"getScrollTop",value:function(){return this.scrollElement===window?this.scrollElement.pageYOffset:this.scrollElement.scrollTop}},{key:"getScrollHeight",value:function(){return this.scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"getOffsetHeight",value:function(){return this.scrollElement===window?window.innerHeight:this.scrollElement.getBoundingClientRect().height}},{key:"process",value:function(){var a=this.getScrollTop()+this.config.offset,b=this.getScrollHeight(),c=this.config.offset+b-this.getOffsetHeight();if(this.scrollHeight!==b&&this.refresh(),a>=c){var d=this.targets[this.targets.length-1];return void(this.activeTarget!==d&&this.activate(d))}if(this.activeTarget&&a<this.offsets[0]&&this.offsets[0]>0)return this.activeTarget=null,void this.clear();for(var e=this.offsets.length;e--;){this.activeTarget!==this.targets[e]&&a>=this.offsets[e]&&(void 0===this.offsets[e+1]||a<this.offsets[e+1])&&this.activate(this.targets[e])}}},{key:"activate",value:function(a){this.activeTarget=a,this.clear();var b=this.selector.split(",");b=b.map(function(b){return b+'[data-target="'+a+'"],'+b+'[href="'+a+'"]'});var c=document.querySelector(b.join(","));c.classList.contains(ScrollSpyClassName.DROPDOWN_ITEM)&&c.closest(ScrollSpySelector.DROPDOWN).querySelector(ScrollSpySelector.DROPDOWN_TOGGLE).classList.add(ScrollSpyClassName.ACTIVE),c.classList.add(ScrollSpyClassName.ACTIVE);var d=Util.createEvent(ScrollSpyEvent.ACTIVATE,{relatedTarget:a});this.scrollElement.dispatchEvent(d)}},{key:"clear",value:function(){var a=document.querySelector(this.config.target+" "+ScrollSpySelector.ACTIVE);a&&a.classList.remove(ScrollSpyClassName.ACTIVE)}}],[{key:"init",value:function(b,c){var d=null;if(b.hasOwnProperty(SCROLLSPY_KEY)&&(d=b[SCROLLSPY_KEY]),!d){d=new a(b,"object"===(void 0===c?"undefined":_typeof(c))&&c),b[SCROLLSPY_KEY]=d}return d}}]),a}();document.addEventListener("DOMContentLoaded",function(){window.addEventListener("load",function(){var a=document.querySelectorAll(ScrollSpySelector.DATA_SPY);a.length&&a.forEach(function(a){scrollspy(a,a.dataset)})})});