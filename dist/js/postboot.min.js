"use strict";var _createClass=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e){e.closest=e.closest||function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null},e.parent=function(e){for(var t=this.parentElement;t;){if(t.matches(e))return t;t=t.parentElement}return null},e.parentAll=function(e,t){for(var n=this.parentElement,a=[];n;){if(t&&n.matches(t))return a;n.matches(e)&&a.push(n),n=n.parentElement}return null},e.offset=function(){var e=this.getBoundingClientRect();return{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}},e.position=function(){return{left:this.offsetLeft,top:this.offsetTop}}}(Element.prototype);var Util=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"createEvent",value:function(e,t){var n=void 0;return window.CustomEvent?n=new CustomEvent(e,{detail:t}):(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,t),n}},{key:"getSelector",value:function(e){var t=void 0;return e.hasAttribute("data-target")&&(t=e.getAttribute("data-target")),!t&&e.hasAttribute("href")&&(t=e.getAttribute("href")),t&&"#"!==t?t:null}},{key:"getParentSelector",value:function(e){var t=null;return e.hasAttribute("data-parent")&&(t=e.getAttribute("data-parent")),t}}]),e}();_createClass=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var CheckboxArea=function(){function a(e){_classCallCheck(this,a),this.element=e}return _createClass(a,null,[{key:"ClassName",get:function(){return Object.freeze({ACTIVE:"active",DISABLED:"disabled"})}},{key:"Event",get:function(){return Object.freeze({ACTIVATE:"CheckboxAreaActivate",ACTIVATED:"CheckboxAreaActivated",DEACTIVATE:"CheckboxAreaDeactivate",DEACTIVATED:"CheckboxAreaDeactivated"})}},{key:"Selector",get:function(){return Object.freeze({DATA_TOGGLE:'[data-toggle="checkbox-area"]'})}}]),_createClass(a,[{key:"addEventListeners",value:function(){var t=this;this.element.addEventListener("click",function(e){e.preventDefault(),t.toggle()})}},{key:"toggle",value:function(){if(!this.element.classList.contains(a.ClassName.DISABLED)){var e=this.element.classList.contains(a.ClassName.ACTIVE),t=Util.createEvent(e?a.Event.DEACTIVATE:a.Event.ACTIVATE);this.element.dispatchEvent(t),this.element.classList.toggle(a.ClassName.ACTIVE),this.element.setAttribute("aria-checked",!e);var n=Util.createEvent(e?a.Event.DEACTIVATED:a.Event.ACTIVATED);this.element.dispatchEvent(n)}}}]),a}();"undefined"!=typeof PostBoot&&!1===PostBoot.Event.CheckboxArea||document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(CheckboxArea.Selector.DATA_TOGGLE);e.length&&e.forEach(function(e){new CheckboxArea(e).addEventListeners()})});_createClass=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var RadioArea=function(){function r(e,t){_classCallCheck(this,r),this.element=e,this.config=this.getConfig(t),this.parent=this.config.parent||r.getParent(e)}return _createClass(r,null,[{key:"ClassName",get:function(){return Object.freeze({ACTIVE:"active",DISABLED:"disabled"})}},{key:"Default",get:function(){return Object.freeze({parent:null})}},{key:"Event",get:function(){return Object.freeze({ACTIVATE:"RadioAreaActivate",ACTIVATED:"RadioAreaActivated",DEACTIVATE:"RadioAreaDeactivate",DEACTIVATED:"RadioAreaDeactivated"})}},{key:"Selector",get:function(){return Object.freeze({ACTIVE:".area.active",DATA_TOGGLE:'[data-toggle="radio-area"]'})}}]),_createClass(r,[{key:"addEventListeners",value:function(){var t=this;this.element.addEventListener("click",function(e){e.preventDefault(),t.toggle()})}},{key:"toggle",value:function(){if(!this.element.classList.contains(r.ClassName.DISABLED)&&!this.element.classList.contains(r.ClassName.ACTIVE)){var e=Util.createEvent(r.Event.ACTIVATE);this.element.dispatchEvent(e);var t=(this.parent||document).querySelector(r.Selector.ACTIVE);if(t){var n=Util.createEvent(r.Event.DEACTIVATE);t.dispatchEvent(n),t.classList.remove(r.ClassName.ACTIVE),t.setAttribute("aria-checked","false");var a=Util.createEvent(r.Event.DEACTIVATED);t.dispatchEvent(a)}this.element.classList.add(r.ClassName.ACTIVE),this.element.setAttribute("aria-checked","true");var i=Util.createEvent(r.Event.ACTIVATED);this.element.dispatchEvent(i)}}},{key:"getConfig",value:function(e){return e=Object.assign({},r.Default,e)}}],[{key:"getParent",value:function(e){var t=Util.getParentSelector(e);return t?document.querySelector(t):e.parentNode}}]),r}();"undefined"!=typeof PostBoot&&!1===PostBoot.Event.RadioArea||document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(RadioArea.Selector.DATA_TOGGLE);e.length&&e.forEach(function(e){new RadioArea(e).addEventListeners()})});_createClass=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var CheckboxButton=function(){function a(e,t){_classCallCheck(this,a),this.element=e,this.config=this.getConfig(t),this.input=this.config.input||this.element.querySelector(a.Selector.INPUT)}return _createClass(a,null,[{key:"ClassName",get:function(){return Object.freeze({ACTIVE:"active",DISABLED:"disabled"})}},{key:"Default",get:function(){return Object.freeze({input:null})}},{key:"Event",get:function(){return Object.freeze({ACTIVATE:"CheckboxButtonActivate",ACTIVATED:"CheckboxButtonActivated",DEACTIVATE:"CheckboxButtonDeactivate",DEACTIVATED:"CheckboxButtonDeactivated"})}},{key:"Selector",get:function(){return Object.freeze({DATA_TOGGLE:'[data-toggle="checkbox-button"]',INPUT:"input"})}}]),_createClass(a,[{key:"addEventListeners",value:function(){var t=this;this.element.addEventListener("click",function(e){e.preventDefault(),t.toggle()})}},{key:"toggle",value:function(){if(!this.element.disabled&&!this.element.classList.contains(a.ClassName.DISABLED)){var e=this.element.classList.contains(a.ClassName.ACTIVE),t=Util.createEvent(e?a.Event.DEACTIVATE:a.Event.ACTIVATE);if(this.element.dispatchEvent(t),this.input){if(this.input.disabled||this.input.classList.contains(a.ClassName.DISABLED))return;this.input.checked=!e,this.input.dispatchEvent(new Event("change")),this.input.focus()}this.element.classList.toggle(a.ClassName.ACTIVE),this.element.setAttribute("aria-pressed",!e);var n=Util.createEvent(e?a.Event.DEACTIVATED:a.Event.ACTIVATED);this.element.dispatchEvent(n)}}},{key:"getConfig",value:function(e){return e=Object.assign({},a.Default,e)}}]),a}();"undefined"!=typeof PostBoot&&!1===PostBoot.Event.CheckboxButton||document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(CheckboxButton.Selector.DATA_TOGGLE);e.length&&e.forEach(function(e){new CheckboxButton(e).addEventListeners()})});_createClass=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var RadioButton=function(){function r(e,t){_classCallCheck(this,r),this.element=e,this.config=this.getConfig(t),this.parent=this.config.parent||r.getParent(e),this.input=this.config.input||this.element.querySelector(r.Selector.INPUT)}return _createClass(r,null,[{key:"ClassName",get:function(){return Object.freeze({ACTIVE:"active",DISABLED:"disabled"})}},{key:"Default",get:function(){return Object.freeze({input:null,parent:null})}},{key:"Event",get:function(){return Object.freeze({ACTIVATE:"RadioButtonActivate",ACTIVATED:"RadioButtonActivated",DEACTIVATE:"RadioButtonDeactivate",DEACTIVATED:"RadioButtonDeactivated"})}},{key:"Selector",get:function(){return Object.freeze({ACTIVE:".btn.active",DATA_TOGGLE:'[data-toggle="radio-button"]',INPUT:"input"})}}]),_createClass(r,[{key:"addEventListeners",value:function(){var t=this;this.element.addEventListener("click",function(e){e.preventDefault(),t.toggle()})}},{key:"toggle",value:function(){if(!(this.element.disabled||this.element.classList.contains(r.ClassName.DISABLED)||this.element.classList.contains(r.ClassName.ACTIVE))){var e=Util.createEvent(r.Event.ACTIVATE);if(this.element.dispatchEvent(e),this.input){if(this.input.disabled||this.input.classList.contains(r.ClassName.DISABLED)||this.input.checked)return;this.input.checked=!0,this.input.dispatchEvent(new Event("change")),this.input.focus()}var t=this.parent.querySelector(r.Selector.ACTIVE);if(t){var n=Util.createEvent(r.Event.DEACTIVATE);t.dispatchEvent(n),t.classList.remove(r.ClassName.ACTIVE),t.setAttribute("aria-pressed","false");var a=Util.createEvent(r.Event.DEACTIVATED);t.dispatchEvent(a)}this.element.classList.add(r.ClassName.ACTIVE),this.element.setAttribute("aria-pressed","true");var i=Util.createEvent(r.Event.ACTIVATED);this.element.dispatchEvent(i)}}},{key:"getConfig",value:function(e){return e=Object.assign({},r.Default,e)}}],[{key:"getParent",value:function(e){var t=Util.getParentSelector(e);return t?document.querySelector(t):e.parentNode}}]),r}();document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(RadioButton.Selector.DATA_TOGGLE);e.length&&e.forEach(function(e){new RadioButton(e).addEventListeners()})});_createClass=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Collapse=function(){function a(e,t){_classCallCheck(this,a),this.element=e,this.config=this.getConfig(t),this.parent=this.config.parent||a.getParent(this.element),this.target=this.config.target||a.getTarget(this.element)}return _createClass(a,null,[{key:"KEY",get:function(){return"collapse"}},{key:"COLLAPSED_KEY",get:function(){return"collapsed"}},{key:"EVENT_KEY",get:function(){return"Collapse"}},{key:"ClassName",get:function(){return Object.freeze({COLLAPSE:"collapse",COLLAPSED:"collapsed",COLLAPSING:"collapsing",SHOW:"show"})}},{key:"Default",get:function(){return Object.freeze({parent:null,target:null})}},{key:"Event",get:function(){return Object.freeze({HIDE:a.EVENT_KEY+"Hide",HIDDEN:a.EVENT_KEY+"Hidden",SHOW:a.EVENT_KEY+"Show",SHOWN:a.EVENT_KEY+"Shown"})}},{key:"Selector",get:function(){return Object.freeze({ACTIVES:".show, .collapsing",COLLAPSE:".collapse",COLLAPSED:"["+a.COLLAPSED_KEY+"]",DATA_TOGGLE:'[data-toggle="collapse"]'})}}]),_createClass(a,[{key:"addEventListeners",value:function(){var t=this;this.element.addEventListener("click",function(e){e.preventDefault(),t.toggle()})}},{key:"addHoverListeners",value:function(){var t=this;this.element.addEventListener("mouseenter",function(e){return t.show(e)}),this.element.addEventListener("mouseleave",function(){return t.hide()})}},{key:"toggle",value:function(){this.target.classList.contains(a.ClassName.SHOW)?this.hide():this.show()}},{key:"show",value:function(){var e=this;if(!this.element.disabled&&!this.element.classList.contains(a.ClassName.DISABLED)){var t=Util.createEvent(a.Event.SHOW);if(this.target.dispatchEvent(t),!t.defaultPrevented){if(this.parent){var n=this.parent.querySelectorAll(a.Selector.COLLAPSED);n.length&&n.forEach(function(e){if(!e.hasOwnProperty(a.KEY))return!0;e[a.KEY].hide()})}this.element.setAttribute("aria-expanded","true"),this.element.setAttribute(a.COLLAPSED_KEY,""),window.requestAnimationFrame(function(){e.target.classList.add(a.ClassName.COLLAPSING),e.target.classList.remove(a.ClassName.COLLAPSE),e.target.style.height=e.target.scrollHeight+"px"}),this.target.addEventListener("transitionend",function e(t){t.target.classList.remove(a.ClassName.COLLAPSING),t.target.classList.add(a.ClassName.COLLAPSE),t.target.classList.add(a.ClassName.SHOW);var n=Util.createEvent(a.Event.SHOWN);t.target.dispatchEvent(n),t.target.removeEventListener(t.type,e)})}}}},{key:"hide",value:function(){var e=this;if(!this.element.disabled&&!this.element.classList.contains(a.ClassName.DISABLED)){var t=Util.createEvent(a.Event.HIDE);this.target.dispatchEvent(t),t.defaultPrevented||(this.element.setAttribute("aria-expanded","false"),this.element.removeAttribute(a.COLLAPSED_KEY),window.requestAnimationFrame(function(){e.target.classList.add(a.ClassName.COLLAPSING),e.target.classList.remove(a.ClassName.COLLAPSE),e.target.style.height=null}),this.target.addEventListener("transitionend",function e(t){t.target.classList.remove(a.ClassName.COLLAPSING),t.target.classList.add(a.ClassName.COLLAPSE),t.target.classList.remove(a.ClassName.SHOW);var n=Util.createEvent(a.Event.HIDDEN);t.target.dispatchEvent(n),t.target.removeEventListener(t.type,e)}))}}},{key:"getConfig",value:function(e){return e=Object.assign({},a.Default,e)}}],[{key:"getParent",value:function(e){var t=Util.getParentSelector(e);return t&&document.querySelector(t)}},{key:"getTarget",value:function(e){var t=Util.getSelector(e);return t&&document.querySelector(t)}},{key:"init",value:function(e,t){var n=null;return e.hasOwnProperty(a.KEY)&&(n=e[a.KEY]),n||(n=new a(e,t),e[a.KEY]=n),n}}]),a}();function collapse(e,t){return Collapse.init(e,t)}"undefined"!=typeof PostBoot&&!1===PostBoot.Event.Collapse||document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(Collapse.Selector.DATA_TOGGLE);e.length&&e.forEach(function(e){collapse(e).addEventListeners()})});_createClass=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ESCAPE_KEYCODE=27,SPACE_KEYCODE=32,TAB_KEYCODE=9,ARROW_UP_KEYCODE=38,ARROW_DOWN_KEYCODE=40,RIGHT_MOUSE_BUTTON_WHICH=3,DROPDOWN_REGEXP_KEYDOWN=new RegExp(ARROW_UP_KEYCODE+"|"+ARROW_DOWN_KEYCODE+"|"+ESCAPE_KEYCODE),Dropdown=function(){function o(e,t){_classCallCheck(this,o),this.element=e,this.config=this.getConfig(t),this.parent=this.config.parent||o.getParent(this.element),this.menu=this.config.menu||o.getMenu(this.element,this.parent)}return _createClass(o,null,[{key:"ClassName",get:function(){return Object.freeze({DISABLED:"disabled",SHOW:"show"})}},{key:"Default",get:function(){return Object.freeze({menu:null,parent:null})}},{key:"Event",get:function(){return Object.freeze({HIDE:"DropdownHide",HIDDEN:"DropdownHidden",SHOW:"DropdownShow",SHOWN:"DropdownShown"})}},{key:"Selector",get:function(){return Object.freeze({ACTIVE_TOGGLE:".show > .dropdown-toggle",DATA_HOVER:'[data-hover="dropdown"]',DATA_TOGGLE:'[data-toggle="dropdown"]',FORM:"form",MEGA_MENU:".dropdown-menu-auto, .dropdown-menu-fluid",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled)"})}}]),_createClass(o,[{key:"addEventListeners",value:function(e){var t=this,n=e||["click","keyboard"];if(0<=n.indexOf("click")){this.element.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.toggle(e)}),this.menu.classList.contains(o.Selector.MEGA_MENU)&&this.menu.addEventListener("click",function(e){e.stopPropagation()});var a=this.parent.querySelector(o.Selector.FORM);a&&a.addEventListener("click",function(e){e.stopPropagation()})}0<=n.indexOf("keyboard")&&(this.element.addEventListener("keydown",o.keydown),this.menu.addEventListener("keydown",o.keydown)),0<=n.indexOf("hover")&&!("ontouchstart"in document.documentElement)&&(this.element.addEventListener("mouseenter",function(e){return t.show(e)}),this.parent.addEventListener("mouseleave",function(){return t.hide()}))}},{key:"toggle",value:function(e){if(!this.element.disabled&&!this.element.classList.contains(o.ClassName.DISABLED)){var t=this.menu.classList.contains(o.ClassName.SHOW);if(o.hideMenus(e),!t){var n={relatedTarget:this.element},a=Util.createEvent(o.Event.SHOW,n);if(this.parent.dispatchEvent(a),!a.defaultPrevented){this.element.setAttribute("aria-expanded","true"),this.menu.classList.toggle(o.ClassName.SHOW),this.parent.classList.toggle(o.ClassName.SHOW);var i=Util.createEvent(o.Event.SHOWN,n);this.parent.dispatchEvent(i)}}}}},{key:"show",value:function(e){if(!(this.element.disabled||this.element.classList.contains(o.ClassName.DISABLED)||this.menu.classList.contains(o.ClassName.SHOW))){var t=this.menu.classList.contains(o.ClassName.SHOW);if(o.hideMenus(e),!t){var n={relatedTarget:this.element},a=Util.createEvent(o.Event.SHOW,n);if(this.parent.dispatchEvent(a),!a.defaultPrevented){this.element.setAttribute("aria-expanded","true"),this.menu.classList.add(o.ClassName.SHOW),this.parent.classList.add(o.ClassName.SHOW);var i=Util.createEvent(o.Event.SHOWN,n);this.parent.dispatchEvent(i)}}}}},{key:"hide",value:function(){if(this.menu.classList.contains(o.ClassName.SHOW)){var e={relatedTarget:this.element},t=Util.createEvent(o.Event.HIDE,e);if(this.parent.dispatchEvent(t),!t.defaultPrevented){this.element.setAttribute("aria-expanded","false"),this.menu.classList.remove(o.ClassName.SHOW),this.parent.classList.remove(o.ClassName.SHOW);var n=Util.createEvent(o.Event.HIDDEN,e);this.parent.dispatchEvent(n)}}}},{key:"getConfig",value:function(e){return e=Object.assign({},o.Default,e)}}],[{key:"hideMenus",value:function(s){if(!s||s.which!==RIGHT_MOUSE_BUTTON_WHICH&&("keyup"!==s.type||s.which===TAB_KEYCODE)){var e=document.querySelectorAll(o.Selector.ACTIVE_TOGGLE);e.length&&e.forEach(function(e){var t=o.getParent(e),n=o.getMenu(e,t);if(!t.classList.contains(o.ClassName.SHOW))return!0;if(s&&s.target!==e&&t.contains(s.target))return!0;if(s&&("click"===s.type&&/input|textarea/i.test(s.target.tagName)||"keyup"===s.type&&s.which===TAB_KEYCODE)&&t.contains(s.target))return!0;var a={relatedTarget:e},i=Util.createEvent(o.Event.HIDE,a);if(t.dispatchEvent(i),i.defaultPrevented)return!0;e.setAttribute("aria-expanded","false"),n.classList.remove(o.ClassName.SHOW),t.classList.remove(o.ClassName.SHOW);var r=Util.createEvent(o.Event.HIDDEN,a);t.dispatchEvent(r)})}}},{key:"getParent",value:function(e){var t=Util.getParentSelector(e);return t?document.querySelector(t):e.parentNode}},{key:"getMenu",value:function(e,t){var n=void 0,a=Util.getSelector(e);if(a)try{n=document.querySelector(a)}catch(e){n=t.querySelector(o.Selector.MENU)}else n=t.querySelector(o.Selector.MENU);return n}},{key:"keydown",value:function(e){if(!(!DROPDOWN_REGEXP_KEYDOWN.test(e.which)||/button/i.test(e.target.tagName)&&e.which===SPACE_KEYCODE||/input|textarea/i.test(e.target.tagName)||(e.preventDefault(),e.stopPropagation(),this.disabled||this.classList.contains(o.ClassName.DISABLED)))){var t=o.getParent(this),n=t.classList.contains(o.ClassName.SHOW);if((n||e.which===ESCAPE_KEYCODE&&e.which===SPACE_KEYCODE)&&(!n||e.which!==ESCAPE_KEYCODE&&e.which!==SPACE_KEYCODE)){var a=Array.prototype.slice.call(t.querySelectorAll(o.Selector.VISIBLE_ITEMS));if(a.length){var i=a.indexOf(e.target);e.which===ARROW_UP_KEYCODE&&0<i&&i--,e.which===ARROW_DOWN_KEYCODE&&i<a.length-1&&i++,i<0&&(i=0),a[i].focus()}}else{e.which===ESCAPE_KEYCODE&&t.querySelector(o.Selector.DATA_TOGGLE).dispatchEvent(new FocusEvent("focus")),this.dispatchEvent(new MouseEvent("click"))}}}}]),o}();"undefined"!=typeof PostBoot&&!1===PostBoot.Event.Dropdown||document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(Dropdown.Selector.DATA_TOGGLE);e.length&&e.forEach(function(e){new Dropdown(e).addEventListeners()});var t=document.querySelectorAll(Dropdown.Selector.DATA_HOVER);t.length&&t.forEach(function(e){new Dropdown(e).addEventListeners(["hover"])}),document.addEventListener("click",Dropdown.hideMenus),document.addEventListener("keyup",Dropdown.hideMenus)});_createClass=function(){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ScrollSpy=function(){function s(e,t){var n=this;_classCallCheck(this,s),this.element=e,this.scrollElement="BODY"===e.tagName?window:e,this.config=this.getConfig(t),this.target=document.querySelector(this.config.target),this.selector=this.config.target+" "+s.Selector.NAV_LINK+","+this.config.target+" "+s.Selector.LIST_ITEM+","+this.config.target+" "+s.Selector.DROPDOWN_ITEM,this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.scrollElement.addEventListener("scroll",function(e){return n.process(e)}),this.refresh(),this.process()}return _createClass(s,null,[{key:"ClassName",get:function(){return Object.freeze({ACTIVE:"active",DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",NAV_LINK:"nav-link",SHOW:"show"})}},{key:"Default",get:function(){return Object.freeze({offset:10,method:"auto",target:""})}},{key:"Event",get:function(){return Object.freeze({ACTIVATE:"ScrollSpyActivate"})}},{key:"OffsetMethod",get:function(){return Object.freeze({OFFSET:"offset",POSITION:"position"})}},{key:"Selector",get:function(){return Object.freeze({ACTIVE:".active",DATA_SPY:'[data-spy="scroll"]',DROPDOWN:".dropdown",DROPDOWN_ITEM:".dropdown-item",DROPDOWN_MENU:".dropdown-menu",DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWNS:".dropup, .dropright, .dropdown, .dropleft",HIDE:".hide",LIST_ITEM:".list-group-item",NAV_ITEM:".nav-item",NAV_LINK:".nav-link",NAV_LIST_GROUP:".nav, .list-group",SHOW:".show"})}}]),_createClass(s,[{key:"refresh",value:function(){var t=this,e=this.scrollElement!==this.scrollElement.window?s.OffsetMethod.POSITION:s.OffsetMethod.OFFSET,i="auto"===this.config.method?e:this.config.method,r=i===s.OffsetMethod.POSITION?this.getScrollTop():0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),Array.prototype.slice.call(document.querySelectorAll(this.selector)).map(function(e){var t=void 0,n=Util.getSelector(e);if(n&&(t=document.querySelector(n)),t){var a=t.getBoundingClientRect();if(a.width||a.height)return[t[i]().top+r,n]}return null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(e){t.offsets.push(e[0]),t.targets.push(e[1])})}},{key:"getConfig",value:function(e){return e=Object.assign({},s.Default,e)}},{key:"getScrollTop",value:function(){return this.scrollElement===window?this.scrollElement.pageYOffset:this.scrollElement.scrollTop}},{key:"getScrollHeight",value:function(){return this.scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"getOffsetHeight",value:function(){return this.scrollElement===window?window.innerHeight:this.scrollElement.getBoundingClientRect().height}},{key:"process",value:function(){var e=this.getScrollTop()+this.config.offset,t=this.getScrollHeight(),n=this.config.offset+t-this.getOffsetHeight();if(this.scrollHeight!==t&&this.refresh(),n<=e){var a=this.targets[this.targets.length-1];this.activeTarget!==a&&this.activate(a)}else{if(this.activeTarget&&e<this.offsets[0]&&0<this.offsets[0])return this.activeTarget=null,void this.clear();for(var i=this.offsets.length;i--;){this.activeTarget!==this.targets[i]&&e>=this.offsets[i]&&(void 0===this.offsets[i+1]||e<this.offsets[i+1])&&this.activate(this.targets[i])}}}},{key:"activate",value:function(t){this.activeTarget=t,this.clear();var e=this.selector.split(",");e=e.map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'});var n=this.target.querySelector(e.join(","));if(n.classList.contains(s.ClassName.DROPDOWN_ITEM)){var a=n.parentAll(s.Selector.DROPDOWNS+", "+s.Selector.DROPDOWN_MENU,this.config.target);a.length&&a.forEach(function(e){e.classList.add(s.ClassName.SHOW)})}else if(n.classList.contains(s.ClassName.NAV_LINK)){var i=n.parentAll(s.Selector.NAV_ITEM,this.config.target);i.length&&i.forEach(function(e){e.classList.add(s.ClassName.SHOW)})}n.classList.add(s.ClassName.ACTIVE);var r=Util.createEvent(s.Event.ACTIVATE,{relatedTarget:t});this.scrollElement.dispatchEvent(r)}},{key:"clear",value:function(){var e=this.target.querySelector(s.Selector.ACTIVE);if(e&&(e.classList.remove(s.ClassName.ACTIVE),e.classList.contains(s.ClassName.NAV_LINK)||e.classList.contains(s.ClassName.DROPDOWN_ITEM))){var t=e.parentAll(s.Selector.SHOW,this.config.target);t.length&&t.forEach(function(e){e.classList.remove(s.ClassName.SHOW)})}}}]),s}();"undefined"!=typeof PostBoot&&!1===PostBoot.Event.ScrollSpy||document.addEventListener("DOMContentLoaded",function(){window.addEventListener("load",function(){var e=document.querySelectorAll(ScrollSpy.Selector.DATA_SPY);e.length&&e.forEach(function(e){new ScrollSpy(e,e.dataset)})})});