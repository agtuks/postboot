"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function dropdown(a,b){"string"==typeof a&&(a=document.querySelectorAll(a)),a.forEach(function(a){var c=void 0;if(a.hasAttribute(DROPDOWN_DATA_KEY)&&(c=a.getAttribute(DROPDOWN_DATA_KEY)),c||(c=new Dropdown(a),a.setAttribute(DROPDOWN_DATA_KEY,c)),"string"==typeof b){if(void 0===c[b])throw new Error('No method named "'+b+'"');c[b].call(a)}})}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function dropdownHover(a,b){"string"==typeof a&&(a=document.querySelectorAll(a)),a.forEach(function(a){var c=void 0;if(a.hasAttribute(DROPDOWN_HOVER_DATA_KEY)&&(c=a.getAttribute(DROPDOWN_HOVER_DATA_KEY)),c||(c=new DropdownHover(a),a.setAttribute(DROPDOWN_HOVER_DATA_KEY,c)),"string"==typeof b){if(void 0===c[b])throw new Error('No method named "'+b+'"');c[b].call(a)}})}var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(a){a.closest=a.closest||function(a){for(var b=this;b;){if(b.matches(a))return b;b=b.parentElement}return null}}(Element.prototype);var ESCAPE_KEYCODE=27,Util=function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"createEvent",value:function(a,b){var c=void 0;return window.CustomEvent?c=new CustomEvent(a,{detail:b}):(c=document.createEvent("CustomEvent"),c.initCustomEvent(a,!0,!0,b)),c}},{key:"getSelector",value:function(a){var b=void 0;return a.hasAttribute("data-target")&&(b=a.getAttribute("data-target")),!b&&a.hasAttribute("href")&&(b=a.getAttribute("href")),b&&"#"!==b?b:null}}]),a}(),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),DROPDOWN_DATA_KEY="bs.dropdown",DROPDOWN_EVENT_KEY="."+DROPDOWN_DATA_KEY,SPACE_KEYCODE=32,TAB_KEYCODE=9,ARROW_UP_KEYCODE=38,ARROW_DOWN_KEYCODE=40,RIGHT_MOUSE_BUTTON_WHICH=3,DROPDOWN_REGEXP_KEYDOWN=new RegExp(ARROW_UP_KEYCODE+"|"+ARROW_DOWN_KEYCODE+"|"+ESCAPE_KEYCODE),DropdownClassName={DISABLED:"disabled",SHOW:"show"},DropdownSelector={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled)"},DropdownEvent={HIDE:"hide"+DROPDOWN_EVENT_KEY,HIDDEN:"hidden"+DROPDOWN_EVENT_KEY,SHOW:"show"+DROPDOWN_EVENT_KEY,SHOWN:"shown"+DROPDOWN_EVENT_KEY},Dropdown=function(){function a(b){_classCallCheck(this,a),b.addEventListener("click",this.toggle)}return _createClass(a,[{key:"toggle",value:function(b){if(b.preventDefault(),this.disabled||this.classList.contains(DropdownClassName.DISABLED))return!1;var c=a.getParent(this),d=c.classList.contains(DropdownClassName.SHOW);if(a.clearMenus(b),d)return!1;var e={relatedTarget:this},f=Util.createEvent(DropdownEvent.SHOW,e);if(c.dispatchEvent(f),f.defaultPrevented)return!1;"ontouchstart"in document.documentElement&&!c.closest(DropdownSelector.NAVBAR_NAV)&&document.body.children.addEventListener("mouseover",function(){}),this.focus(),this.setAttribute("aria-expanded",!0),c.classList.toggle(DropdownClassName.SHOW);var g=Util.createEvent(DropdownEvent.SHOWN,e);c.dispatchEvent(g)}}],[{key:"hideMenus",value:function(b,c){if(!b||b.which!==RIGHT_MOUSE_BUTTON_WHICH&&("keyup"!==b.type||b.which===TAB_KEYCODE)){var d=document.querySelectorAll(c);d.length&&d.forEach(function(c){var d=a.getParent(c),e={relatedTarget:c};if(!d.classList.contains(DropdownClassName.SHOW))return!0;if(b.target!==c&&d.contains(b.target))return!0;if(b&&("click"===b.type&&/input|textarea/i.test(b.target.tagName)||"keyup"===b.type&&b.which===TAB_KEYCODE)&&d.contains(b.target))return!0;var f=Util.createEvent(DropdownEvent.HIDE,e);if(d.dispatchEvent(f),f.defaultPrevented)return!0;"ontouchstart"in document.documentElement&&document.body.children.removeEventListener("mouseover",function(){}),c.setAttribute("aria-expanded","false"),d.classList.remove(DropdownClassName.SHOW);var g=Util.createEvent(DropdownEvent.HIDDEN,e);d.dispatchEvent(g)})}}},{key:"clearMenus",value:function(b){a.hideMenus(b,DropdownSelector.DATA_TOGGLE)}},{key:"getParent",value:function(a){var b=Util.getSelector(a);return b?document.querySelector(b):a.parentNode}},{key:"keydown",value:function(b){if(!(!DROPDOWN_REGEXP_KEYDOWN.test(b.which)||/button/i.test(b.target.tagName)&&b.which===SPACE_KEYCODE||/input|textarea/i.test(b.target.tagName)||(b.preventDefault(),b.stopPropagation(),this.disabled||this.classList.contains(DropdownClassName.DISABLED)))){var c=a.getParent(this),d=c.classList.contains(DropdownClassName.SHOW);if(!d&&(b.which!==ESCAPE_KEYCODE||b.which!==SPACE_KEYCODE)||d&&(b.which===ESCAPE_KEYCODE||b.which===SPACE_KEYCODE)){if(b.which===ESCAPE_KEYCODE){c.querySelector(DropdownSelector.DATA_TOGGLE).dispatchEvent(new FocusEvent("focus"))}return void this.dispatchEvent(new MouseEvent("click"))}var e=Array.prototype.slice.call(c.querySelectorAll(DropdownSelector.VISIBLE_ITEMS));if(e.length){var f=e.indexOf(b.target);b.which===ARROW_UP_KEYCODE&&f>0&&f--,b.which===ARROW_DOWN_KEYCODE&&f<e.length-1&&f++,f<0&&(f=0),e[f].focus()}}}}]),a}();document.addEventListener("DOMContentLoaded",function(){var a=document.querySelectorAll(DropdownSelector.DATA_TOGGLE);a.length&&a.forEach(function(a){a.addEventListener("keydown",Dropdown.keydown),a.addEventListener("click",Dropdown.prototype.toggle)});var b=document.querySelectorAll(DropdownSelector.MENU);b.length&&b.forEach(function(a){a.addEventListener("keydown",Dropdown.keydown)});var c=document.querySelectorAll(DropdownSelector.FORM_CHILD);c.length&&c.forEach(function(a){a.addEventListener("click",function(a){a.stopPropagation()})})});var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),DROPDOWN_HOVER_DATA_KEY=DROPDOWN_DATA_KEY+".hover",DropdownHoverSelector={HOVER:".dropdown-hover",DATA_HOVER:'[data-hover="dropdown"]',TOGGLE:".dropdown-toggle"},DropdownHover=function(){function a(b){_classCallCheck(this,a);var c=Dropdown.getParent(b);b.addEventListener("mouseenter",this.show),c.addEventListener("mouseleave",this.hide)}return _createClass(a,[{key:"show",value:function(){if(this.disabled||this.classList.contains(DropdownClassName.DISABLED))return!1;var b=Dropdown.getParent(this),c=b.classList.contains(DropdownClassName.SHOW);if(a.clearMenus(),c)return!1;var d={relatedTarget:this},e=Util.createEvent(DropdownEvent.SHOW,d);if(b.dispatchEvent(e),e.defaultPrevented)return!1;this.setAttribute("aria-expanded",!0),b.classList.add(DropdownClassName.SHOW);var f=Util.createEvent(DropdownEvent.SHOWN,d);b.dispatchEvent(f)}},{key:"hide",value:function(){if(!this.classList.contains(DropdownClassName.SHOW))return!1;var a=this.querySelector(DropdownHoverSelector.DATA_HOVER);a||(a=this.querySelector(DropdownHoverSelector.TOGGLE));var b={relatedTarget:a},c=Util.createEvent(DropdownEvent.HIDE,b);if(this.dispatchEvent(c),c.defaultPrevented)return!1;a.setAttribute("aria-expanded","false"),this.classList.remove(DropdownClassName.SHOW);var d=Util.createEvent(DropdownEvent.HIDDEN,b);this.dispatchEvent(d)}}],[{key:"clearMenus",value:function(a){Dropdown.hideMenus(a,DropdownHoverSelector.DATA_HOVER)}}]),a}();document.addEventListener("DOMContentLoaded",function(){var a=document.querySelectorAll(DropdownHoverSelector.DATA_HOVER);a.length&&a.forEach(function(a){a.addEventListener("mouseenter",DropdownHover.prototype.show)});var b=document.querySelectorAll(""+DropdownHoverSelector.HOVER);b.length&&b.forEach(function(a){a.addEventListener("mouseleave",DropdownHover.prototype.hide)})}),document.addEventListener("DOMContentLoaded",function(){var a=document.querySelectorAll(".dropdown-fluid .dropdown-menu");a.length&&a.forEach(function(a){a.addEventListener("click",function(a){a.stopPropagation()})})});